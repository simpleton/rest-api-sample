// Backbone.js 1.1.2

(function(t,e***REMOVED***{if(typeof de***REMOVED***ne==="function"&&de***REMOVED***ne.amd***REMOVED***{de***REMOVED***ne(["underscore","jquery","exports"],function(i,r,s***REMOVED***{t.Backbone=e(t,s,i,r***REMOVED***}***REMOVED***}***REMOVED*** if(typeof exports!=="unde***REMOVED***ned"***REMOVED***{var i=require("underscore"***REMOVED***;e(t,exports,i***REMOVED***}***REMOVED***{t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$***REMOVED***}}***REMOVED***(this,function(t,e,i,r***REMOVED***{var s=t.Backbone;var n=[];var a=n.push;var o=n.slice;var h=n.splice;e.VERSION="1.1.2";e.$=r;e.noConflict=function(***REMOVED***{t.Backbone=s;return this};e.emulateHTTP=false;e.emulateJSON=false;var u=e.Events={on:function(t,e,i***REMOVED***{if(!c(this,"on",t,[e,i]***REMOVED***||!e***REMOVED***return this;this._events||(this._events={}***REMOVED***;var r=this._events[t]||(this._events[t]=[]***REMOVED***;r.push({callback:e,context:i,ctx:i||this}***REMOVED***;return this},once:function(t,e,r***REMOVED***{if(!c(this,"once",t,[e,r]***REMOVED***||!e***REMOVED***return this;var s=this;var n=i.once(function(***REMOVED***{s.off(t,n***REMOVED***;e.apply(this,arguments***REMOVED***}***REMOVED***;n._callback=e;return this.on(t,n,r***REMOVED***},off:function(t,e,r***REMOVED***{var s,n,a,o,h,u,l,f;if(!this._events||!c(this,"off",t,[e,r]***REMOVED******REMOVED***return this;if(!t&&!e&&!r***REMOVED***{this._events=void 0;return this}o=t?[t]:i.keys(this._events***REMOVED***;for(h=0,u=o.length;h<u;h++***REMOVED***{t=o[h];if(a=this._events[t]***REMOVED***{this._events[t]=s=[];if(e||r***REMOVED***{for(l=0,f=a.length;l<f;l++***REMOVED***{n=a[l];if(e&&e!==n.callback&&e!==n.callback._callback||r&&r!==n.context***REMOVED***{s.push(n***REMOVED***}}}if(!s.length***REMOVED***delete this._events[t]}}return this},trigger:function(t***REMOVED***{if(!this._events***REMOVED***return this;var e=o.call(arguments,1***REMOVED***;if(!c(this,"trigger",t,e***REMOVED******REMOVED***return this;var i=this._events[t];var r=this._events.all;if(i***REMOVED***f(i,e***REMOVED***;if(r***REMOVED***f(r,arguments***REMOVED***;return this},stopListening:function(t,e,r***REMOVED***{var s=this._listeningTo;if(!s***REMOVED***return this;var n=!e&&!r;if(!r&&typeof e==="object"***REMOVED***r=this;if(t***REMOVED***(s={}***REMOVED***[t._listenId]=t;for(var a in s***REMOVED***{t=s[a];t.off(e,r,this***REMOVED***;if(n||i.isEmpty(t._events***REMOVED******REMOVED***delete this._listeningTo[a]}return this}};var l=/\s+/;var c=function(t,e,i,r***REMOVED***{if(!i***REMOVED***return true;if(typeof i==="object"***REMOVED***{for(var s in i***REMOVED***{t[e].apply(t,[s,i[s]].concat(r***REMOVED******REMOVED***}return false}if(l.test(i***REMOVED******REMOVED***{var n=i.split(l***REMOVED***;for(var a=0,o=n.length;a<o;a++***REMOVED***{t[e].apply(t,[n[a]].concat(r***REMOVED******REMOVED***}return false}return true};var f=function(t,e***REMOVED***{var i,r=-1,s=t.length,n=e[0],a=e[1],o=e[2];switch(e.length***REMOVED***{case 0:while(++r<s***REMOVED***(i=t[r]***REMOVED***.callback.call(i.ctx***REMOVED***;return;case 1:while(++r<s***REMOVED***(i=t[r]***REMOVED***.callback.call(i.ctx,n***REMOVED***;return;case 2:while(++r<s***REMOVED***(i=t[r]***REMOVED***.callback.call(i.ctx,n,a***REMOVED***;return;case 3:while(++r<s***REMOVED***(i=t[r]***REMOVED***.callback.call(i.ctx,n,a,o***REMOVED***;return;default:while(++r<s***REMOVED***(i=t[r]***REMOVED***.callback.apply(i.ctx,e***REMOVED***;return}};var d={listenTo:"on",listenToOnce:"once"};i.each(d,function(t,e***REMOVED***{u[e]=function(e,r,s***REMOVED***{var n=this._listeningTo||(this._listeningTo={}***REMOVED***;var a=e._listenId||(e._listenId=i.uniqueId("l"***REMOVED******REMOVED***;n[a]=e;if(!s&&typeof r==="object"***REMOVED***s=this;e[t](r,s,this***REMOVED***;return this}}***REMOVED***;u.bind=u.on;u.unbind=u.off;i.extend(e,u***REMOVED***;var p=e.Model=function(t,e***REMOVED***{var r=t||{};e||(e={}***REMOVED***;this.cid=i.uniqueId("c"***REMOVED***;this.attributes={};if(e.collection***REMOVED***this.collection=e.collection;if(e.parse***REMOVED***r=this.parse(r,e***REMOVED***||{};r=i.defaults({},r,i.result(this,"defaults"***REMOVED******REMOVED***;this.set(r,e***REMOVED***;this.changed={};this.initialize.apply(this,arguments***REMOVED***};i.extend(p.prototype,u,{changed:null,validationError:null,idAttribute:"id",initialize:function(***REMOVED***{},toJSON:function(t***REMOVED***{return i.clone(this.attributes***REMOVED***},sync:function(***REMOVED***{return e.sync.apply(this,arguments***REMOVED***},get:function(t***REMOVED***{return this.attributes[t]},escape:function(t***REMOVED***{return i.escape(this.get(t***REMOVED******REMOVED***},has:function(t***REMOVED***{return this.get(t***REMOVED***!=null},set:function(t,e,r***REMOVED***{var s,n,a,o,h,u,l,c;if(t==null***REMOVED***return this;if(typeof t==="object"***REMOVED***{n=t;r=e}***REMOVED***{(n={}***REMOVED***[t]=e}r||(r={}***REMOVED***;if(!this._validate(n,r***REMOVED******REMOVED***return false;a=r.unset;h=r.silent;o=[];u=this._changing;this._changing=true;if(!u***REMOVED***{this._previousAttributes=i.clone(this.attributes***REMOVED***;this.changed={}}c=this.attributes,l=this._previousAttributes;if(this.idAttribute in n***REMOVED***this.id=n[this.idAttribute];for(s in n***REMOVED***{e=n[s];if(!i.isEqual(c[s],e***REMOVED******REMOVED***o.push(s***REMOVED***;if(!i.isEqual(l[s],e***REMOVED******REMOVED***{this.changed[s]=e}***REMOVED***{delete this.changed[s]}a?delete c[s]:c[s]=e}if(!h***REMOVED***{if(o.length***REMOVED***this._pending=r;for(var f=0,d=o.length;f<d;f++***REMOVED***{this.trigger("change:"+o[f],this,c[o[f]],r***REMOVED***}}if(u***REMOVED***return this;if(!h***REMOVED***{while(this._pending***REMOVED***{r=this._pending;this._pending=false;this.trigger("change",this,r***REMOVED***}}this._pending=false;this._changing=false;return this},unset:function(t,e***REMOVED***{return this.set(t,void 0,i.extend({},e,{unset:true}***REMOVED******REMOVED***},clear:function(t***REMOVED***{var e={};for(var r in this.attributes***REMOVED***e[r]=void 0;return this.set(e,i.extend({},t,{unset:true}***REMOVED******REMOVED***},hasChanged:function(t***REMOVED***{if(t==null***REMOVED***return!i.isEmpty(this.changed***REMOVED***;return i.has(this.changed,t***REMOVED***},changedAttributes:function(t***REMOVED***{if(!t***REMOVED***return this.hasChanged(***REMOVED***?i.clone(this.changed***REMOVED***:false;var e,r=false;var s=this._changing?this._previousAttributes:this.attributes;for(var n in t***REMOVED***{if(i.isEqual(s[n],e=t[n]***REMOVED******REMOVED***continue;(r||(r={}***REMOVED******REMOVED***[n]=e}return r},previous:function(t***REMOVED***{if(t==null||!this._previousAttributes***REMOVED***return null;return this._previousAttributes[t]},previousAttributes:function(***REMOVED***{return i.clone(this._previousAttributes***REMOVED***},fetch:function(t***REMOVED***{t=t?i.clone(t***REMOVED***:{};if(t.parse===void 0***REMOVED***t.parse=true;var e=this;var r=t.success;t.success=function(i***REMOVED***{if(!e.set(e.parse(i,t***REMOVED***,t***REMOVED******REMOVED***return false;if(r***REMOVED***r(e,i,t***REMOVED***;e.trigger("sync",e,i,t***REMOVED***};q(this,t***REMOVED***;return this.sync("read",this,t***REMOVED***},save:function(t,e,r***REMOVED***{var s,n,a,o=this.attributes;if(t==null||typeof t==="object"***REMOVED***{s=t;r=e}***REMOVED***{(s={}***REMOVED***[t]=e}r=i.extend({validate:true},r***REMOVED***;if(s&&!r.wait***REMOVED***{if(!this.set(s,r***REMOVED******REMOVED***return false}***REMOVED***{if(!this._validate(s,r***REMOVED******REMOVED***return false}if(s&&r.wait***REMOVED***{this.attributes=i.extend({},o,s***REMOVED***}if(r.parse===void 0***REMOVED***r.parse=true;var h=this;var u=r.success;r.success=function(t***REMOVED***{h.attributes=o;var e=h.parse(t,r***REMOVED***;if(r.wait***REMOVED***e=i.extend(s||{},e***REMOVED***;if(i.isObject(e***REMOVED***&&!h.set(e,r***REMOVED******REMOVED***{return false}if(u***REMOVED***u(h,t,r***REMOVED***;h.trigger("sync",h,t,r***REMOVED***};q(this,r***REMOVED***;n=this.isNew(***REMOVED***?"create":r.patch?"patch":"update";if(n==="patch"***REMOVED***r.attrs=s;a=this.sync(n,this,r***REMOVED***;if(s&&r.wait***REMOVED***this.attributes=o;return a},destroy:function(t***REMOVED***{t=t?i.clone(t***REMOVED***:{};var e=this;var r=t.success;var s=function(***REMOVED***{e.trigger("destroy",e,e.collection,t***REMOVED***};t.success=function(i***REMOVED***{if(t.wait||e.isNew(***REMOVED******REMOVED***s(***REMOVED***;if(r***REMOVED***r(e,i,t***REMOVED***;if(!e.isNew(***REMOVED******REMOVED***e.trigger("sync",e,i,t***REMOVED***};if(this.isNew(***REMOVED******REMOVED***{t.success(***REMOVED***;return false}q(this,t***REMOVED***;var n=this.sync("delete",this,t***REMOVED***;if(!t.wait***REMOVED***s(***REMOVED***;return n},url:function(***REMOVED***{var t=i.result(this,"urlRoot"***REMOVED***||i.result(this.collection,"url"***REMOVED***||M(***REMOVED***;if(this.isNew(***REMOVED******REMOVED***return t;return t.replace(/([^\/]***REMOVED***$/,"$1/"***REMOVED***+encodeURIComponent(this.id***REMOVED***},parse:function(t,e***REMOVED***{return t},clone:function(***REMOVED***{return new this.constructor(this.attributes***REMOVED***},isNew:function(***REMOVED***{return!this.has(this.idAttribute***REMOVED***},isValid:function(t***REMOVED***{return this._validate({},i.extend(t||{},{validate:true}***REMOVED******REMOVED***},_validate:function(t,e***REMOVED***{if(!e.validate||!this.validate***REMOVED***return true;t=i.extend({},this.attributes,t***REMOVED***;var r=this.validationError=this.validate(t,e***REMOVED***||null;if(!r***REMOVED***return true;this.trigger("invalid",this,r,i.extend(e,{validationError:r}***REMOVED******REMOVED***;return false}}***REMOVED***;var v=["keys","values","pairs","invert","pick","omit"];i.each(v,function(t***REMOVED***{p.prototype[t]=function(***REMOVED***{var e=o.call(arguments***REMOVED***;e.unshift(this.attributes***REMOVED***;return i[t].apply(i,e***REMOVED***}}***REMOVED***;var g=e.Collection=function(t,e***REMOVED***{e||(e={}***REMOVED***;if(e.model***REMOVED***this.model=e.model;if(e.comparator!==void 0***REMOVED***this.comparator=e.comparator;this._reset(***REMOVED***;this.initialize.apply(this,arguments***REMOVED***;if(t***REMOVED***this.reset(t,i.extend({silent:true},e***REMOVED******REMOVED***};var m={add:true,remove:true,merge:true};var y={add:true,remove:false};i.extend(g.prototype,u,{model:p,initialize:function(***REMOVED***{},toJSON:function(t***REMOVED***{return this.map(function(e***REMOVED***{return e.toJSON(t***REMOVED***}***REMOVED***},sync:function(***REMOVED***{return e.sync.apply(this,arguments***REMOVED***},add:function(t,e***REMOVED***{return this.set(t,i.extend({merge:false},e,y***REMOVED******REMOVED***},remove:function(t,e***REMOVED***{var r=!i.isArray(t***REMOVED***;t=r?[t]:i.clone(t***REMOVED***;e||(e={}***REMOVED***;var s,n,a,o;for(s=0,n=t.length;s<n;s++***REMOVED***{o=t[s]=this.get(t[s]***REMOVED***;if(!o***REMOVED***continue;delete this._byId[o.id];delete this._byId[o.cid];a=this.indexOf(o***REMOVED***;this.models.splice(a,1***REMOVED***;this.length--;if(!e.silent***REMOVED***{e.index=a;o.trigger("remove",o,this,e***REMOVED***}this._removeReference(o,e***REMOVED***}return r?t[0]:t},set:function(t,e***REMOVED***{e=i.defaults({},e,m***REMOVED***;if(e.parse***REMOVED***t=this.parse(t,e***REMOVED***;var r=!i.isArray(t***REMOVED***;t=r?t?[t]:[]:i.clone(t***REMOVED***;var s,n,a,o,h,u,l;var c=e.at;var f=this.model;var d=this.comparator&&c==null&&e.sort!==false;var v=i.isString(this.comparator***REMOVED***?this.comparator:null;var g=[],y=[],_={};var b=e.add,w=e.merge,x=e.remove;var E=!d&&b&&x?[]:false;for(s=0,n=t.length;s<n;s++***REMOVED***{h=t[s]||{};if(h instanceof p***REMOVED***{a=o=h}***REMOVED***{a=h[f.prototype.idAttribute||"id"]}if(u=this.get(a***REMOVED******REMOVED***{if(x***REMOVED***_[u.cid]=true;if(w***REMOVED***{h=h===o?o.attributes:h;if(e.parse***REMOVED***h=u.parse(h,e***REMOVED***;u.set(h,e***REMOVED***;if(d&&!l&&u.hasChanged(v***REMOVED******REMOVED***l=true}t[s]=u}***REMOVED*** if(b***REMOVED***{o=t[s]=this._prepareModel(h,e***REMOVED***;if(!o***REMOVED***continue;g.push(o***REMOVED***;this._addReference(o,e***REMOVED***}o=u||o;if(E&&(o.isNew(***REMOVED***||!_[o.id]***REMOVED******REMOVED***E.push(o***REMOVED***;_[o.id]=true}if(x***REMOVED***{for(s=0,n=this.length;s<n;++s***REMOVED***{if(!_[(o=this.models[s]***REMOVED***.cid]***REMOVED***y.push(o***REMOVED***}if(y.length***REMOVED***this.remove(y,e***REMOVED***}if(g.length||E&&E.length***REMOVED***{if(d***REMOVED***l=true;this.length+=g.length;if(c!=null***REMOVED***{for(s=0,n=g.length;s<n;s++***REMOVED***{this.models.splice(c+s,0,g[s]***REMOVED***}}***REMOVED***{if(E***REMOVED***this.models.length=0;var k=E||g;for(s=0,n=k.length;s<n;s++***REMOVED***{this.models.push(k[s]***REMOVED***}}}if(l***REMOVED***this.sort({silent:true}***REMOVED***;if(!e.silent***REMOVED***{for(s=0,n=g.length;s<n;s++***REMOVED***{(o=g[s]***REMOVED***.trigger("add",o,this,e***REMOVED***}if(l||E&&E.length***REMOVED***this.trigger("sort",this,e***REMOVED***}return r?t[0]:t},reset:function(t,e***REMOVED***{e||(e={}***REMOVED***;for(var r=0,s=this.models.length;r<s;r++***REMOVED***{this._removeReference(this.models[r],e***REMOVED***}e.previousModels=this.models;this._reset(***REMOVED***;t=this.add(t,i.extend({silent:true},e***REMOVED******REMOVED***;if(!e.silent***REMOVED***this.trigger("reset",this,e***REMOVED***;return t},push:function(t,e***REMOVED***{return this.add(t,i.extend({at:this.length},e***REMOVED******REMOVED***},pop:function(t***REMOVED***{var e=this.at(this.length-1***REMOVED***;this.remove(e,t***REMOVED***;return e},unshift:function(t,e***REMOVED***{return this.add(t,i.extend({at:0},e***REMOVED******REMOVED***},shift:function(t***REMOVED***{var e=this.at(0***REMOVED***;this.remove(e,t***REMOVED***;return e},slice:function(***REMOVED***{return o.apply(this.models,arguments***REMOVED***},get:function(t***REMOVED***{if(t==null***REMOVED***return void 0;return this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t***REMOVED***{return this.models[t]},where:function(t,e***REMOVED***{if(i.isEmpty(t***REMOVED******REMOVED***return e?void 0:[];return this[e?"***REMOVED***nd":"***REMOVED***lter"](function(e***REMOVED***{for(var i in t***REMOVED***{if(t[i]!==e.get(i***REMOVED******REMOVED***return false}return true}***REMOVED***},***REMOVED***ndWhere:function(t***REMOVED***{return this.where(t,true***REMOVED***},sort:function(t***REMOVED***{if(!this.comparator***REMOVED***throw new Error("Cannot sort a set without a comparator"***REMOVED***;t||(t={}***REMOVED***;if(i.isString(this.comparator***REMOVED***||this.comparator.length===1***REMOVED***{this.models=this.sortBy(this.comparator,this***REMOVED***}***REMOVED***{this.models.sort(i.bind(this.comparator,this***REMOVED******REMOVED***}if(!t.silent***REMOVED***this.trigger("sort",this,t***REMOVED***;return this},pluck:function(t***REMOVED***{return i.invoke(this.models,"get",t***REMOVED***},fetch:function(t***REMOVED***{t=t?i.clone(t***REMOVED***:{};if(t.parse===void 0***REMOVED***t.parse=true;var e=t.success;var r=this;t.success=function(i***REMOVED***{var s=t.reset?"reset":"set";r[s](i,t***REMOVED***;if(e***REMOVED***e(r,i,t***REMOVED***;r.trigger("sync",r,i,t***REMOVED***};q(this,t***REMOVED***;return this.sync("read",this,t***REMOVED***},create:function(t,e***REMOVED***{e=e?i.clone(e***REMOVED***:{};if(!(t=this._prepareModel(t,e***REMOVED******REMOVED******REMOVED***return false;if(!e.wait***REMOVED***this.add(t,e***REMOVED***;var r=this;var s=e.success;e.success=function(t,i***REMOVED***{if(e.wait***REMOVED***r.add(t,e***REMOVED***;if(s***REMOVED***s(t,i,e***REMOVED***};t.save(null,e***REMOVED***;return t},parse:function(t,e***REMOVED***{return t},clone:function(***REMOVED***{return new this.constructor(this.models***REMOVED***},_reset:function(***REMOVED***{this.length=0;this.models=[];this._byId={}},_prepareModel:function(t,e***REMOVED***{if(t instanceof p***REMOVED***return t;e=e?i.clone(e***REMOVED***:{};e.collection=this;var r=new this.model(t,e***REMOVED***;if(!r.validationError***REMOVED***return r;this.trigger("invalid",this,r.validationError,e***REMOVED***;return false},_addReference:function(t,e***REMOVED***{this._byId[t.cid]=t;if(t.id!=null***REMOVED***this._byId[t.id]=t;if(!t.collection***REMOVED***t.collection=this;t.on("all",this._onModelEvent,this***REMOVED***},_removeReference:function(t,e***REMOVED***{if(this===t.collection***REMOVED***delete t.collection;t.off("all",this._onModelEvent,this***REMOVED***},_onModelEvent:function(t,e,i,r***REMOVED***{if((t==="add"||t==="remove"***REMOVED***&&i!==this***REMOVED***return;if(t==="destroy"***REMOVED***this.remove(e,r***REMOVED***;if(e&&t==="change:"+e.idAttribute***REMOVED***{delete this._byId[e.previous(e.idAttribute***REMOVED***];if(e.id!=null***REMOVED***this._byId[e.id]=e}this.trigger.apply(this,arguments***REMOVED***}}***REMOVED***;var _=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","***REMOVED***nd","detect","***REMOVED***lter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","***REMOVED***rst","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];i.each(_,function(t***REMOVED***{g.prototype[t]=function(***REMOVED***{var e=o.call(arguments***REMOVED***;e.unshift(this.models***REMOVED***;return i[t].apply(i,e***REMOVED***}}***REMOVED***;var b=["groupBy","countBy","sortBy","indexBy"];i.each(b,function(t***REMOVED***{g.prototype[t]=function(e,r***REMOVED***{var s=i.isFunction(e***REMOVED***?e:function(t***REMOVED***{return t.get(e***REMOVED***};return i[t](this.models,s,r***REMOVED***}}***REMOVED***;var w=e.View=function(t***REMOVED***{this.cid=i.uniqueId("view"***REMOVED***;t||(t={}***REMOVED***;i.extend(this,i.pick(t,E***REMOVED******REMOVED***;this._ensureElement(***REMOVED***;this.initialize.apply(this,arguments***REMOVED***;this.delegateEvents(***REMOVED***};var x=/^(\S+***REMOVED***\s*(.****REMOVED***$/;var E=["model","collection","el","id","attributes","className","tagName","events"];i.extend(w.prototype,u,{tagName:"div",$:function(t***REMOVED***{return this.$el.***REMOVED***nd(t***REMOVED***},initialize:function(***REMOVED***{},render:function(***REMOVED***{return this},remove:function(***REMOVED***{this.$el.remove(***REMOVED***;this.stopListening(***REMOVED***;return this},setElement:function(t,i***REMOVED***{if(this.$el***REMOVED***this.undelegateEvents(***REMOVED***;this.$el=t instanceof e.$?t:e.$(t***REMOVED***;this.el=this.$el[0];if(i!==false***REMOVED***this.delegateEvents(***REMOVED***;return this},delegateEvents:function(t***REMOVED***{if(!(t||(t=i.result(this,"events"***REMOVED******REMOVED******REMOVED******REMOVED***return this;this.undelegateEvents(***REMOVED***;for(var e in t***REMOVED***{var r=t[e];if(!i.isFunction(r***REMOVED******REMOVED***r=this[t[e]];if(!r***REMOVED***continue;var s=e.match(x***REMOVED***;var n=s[1],a=s[2];r=i.bind(r,this***REMOVED***;n+=".delegateEvents"+this.cid;if(a===""***REMOVED***{this.$el.on(n,r***REMOVED***}***REMOVED***{this.$el.on(n,a,r***REMOVED***}}return this},undelegateEvents:function(***REMOVED***{this.$el.off(".delegateEvents"+this.cid***REMOVED***;return this},_ensureElement:function(***REMOVED***{if(!this.el***REMOVED***{var t=i.extend({},i.result(this,"attributes"***REMOVED******REMOVED***;if(this.id***REMOVED***t.id=i.result(this,"id"***REMOVED***;if(this.className***REMOVED***t["class"]=i.result(this,"className"***REMOVED***;var r=e.$("<"+i.result(this,"tagName"***REMOVED***+">"***REMOVED***.attr(t***REMOVED***;this.setElement(r,false***REMOVED***}***REMOVED***{this.setElement(i.result(this,"el"***REMOVED***,false***REMOVED***}}}***REMOVED***;e.sync=function(t,r,s***REMOVED***{var n=T[t];i.defaults(s||(s={}***REMOVED***,{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON}***REMOVED***;var a={type:n,dataType:"json"};if(!s.url***REMOVED***{a.url=i.result(r,"url"***REMOVED***||M(***REMOVED***}if(s.data==null&&r&&(t==="create"||t==="update"||t==="patch"***REMOVED******REMOVED***{a.contentType="application/json";a.data=JSON.stringify(s.attrs||r.toJSON(s***REMOVED******REMOVED***}if(s.emulateJSON***REMOVED***{a.contentType="application/x-www-form-urlencoded";a.data=a.data?{model:a.data}:{}}if(s.emulateHTTP&&(n==="PUT"||n==="DELETE"||n==="PATCH"***REMOVED******REMOVED***{a.type="POST";if(s.emulateJSON***REMOVED***a.data._method=n;var o=s.beforeSend;s.beforeSend=function(t***REMOVED***{t.setRequestHeader("X-HTTP-Method-Override",n***REMOVED***;if(o***REMOVED***return o.apply(this,arguments***REMOVED***}}if(a.type!=="GET"&&!s.emulateJSON***REMOVED***{a.processData=false}if(a.type==="PATCH"&&k***REMOVED***{a.xhr=function(***REMOVED***{return new ActiveXObject("Microsoft.XMLHTTP"***REMOVED***}}var h=s.xhr=e.ajax(i.extend(a,s***REMOVED******REMOVED***;r.trigger("request",r,h,s***REMOVED***;return h};var k=typeof window!=="unde***REMOVED***ned"&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest***REMOVED***.dispatchEvent***REMOVED***;var T={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(***REMOVED***{return e.$.ajax.apply(e.$,arguments***REMOVED***};var $=e.Router=function(t***REMOVED***{t||(t={}***REMOVED***;if(t.routes***REMOVED***this.routes=t.routes;this._bindRoutes(***REMOVED***;this.initialize.apply(this,arguments***REMOVED***};var S=/\((.*?***REMOVED***\***REMOVED***/g;var H=/(\(\?***REMOVED***?:\w+/g;var A=/\*\w+/g;var I=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend($.prototype,u,{initialize:function(***REMOVED***{},route:function(t,r,s***REMOVED***{if(!i.isRegExp(t***REMOVED******REMOVED***t=this._routeToRegExp(t***REMOVED***;if(i.isFunction(r***REMOVED******REMOVED***{s=r;r=""}if(!s***REMOVED***s=this[r];var n=this;e.history.route(t,function(i***REMOVED***{var a=n._extractParameters(t,i***REMOVED***;n.execute(s,a***REMOVED***;n.trigger.apply(n,["route:"+r].concat(a***REMOVED******REMOVED***;n.trigger("route",r,a***REMOVED***;e.history.trigger("route",n,r,a***REMOVED***}***REMOVED***;return this},execute:function(t,e***REMOVED***{if(t***REMOVED***t.apply(this,e***REMOVED***},navigate:function(t,i***REMOVED***{e.history.navigate(t,i***REMOVED***;return this},_bindRoutes:function(***REMOVED***{if(!this.routes***REMOVED***return;this.routes=i.result(this,"routes"***REMOVED***;var t,e=i.keys(this.routes***REMOVED***;while((t=e.pop(***REMOVED******REMOVED***!=null***REMOVED***{this.route(t,this.routes[t]***REMOVED***}},_routeToRegExp:function(t***REMOVED***{t=t.replace(I,"\\$&"***REMOVED***.replace(S,"(?:$1***REMOVED***?"***REMOVED***.replace(H,function(t,e***REMOVED***{return e?t:"([^/?]+***REMOVED***"}***REMOVED***.replace(A,"([^?]*?***REMOVED***"***REMOVED***;return new RegExp("^"+t+"(?:\\?([\\s\\S]****REMOVED******REMOVED***?$"***REMOVED***},_extractParameters:function(t,e***REMOVED***{var r=t.exec(e***REMOVED***.slice(1***REMOVED***;return i.map(r,function(t,e***REMOVED***{if(e===r.length-1***REMOVED***return t||null;return t?decodeURIComponent(t***REMOVED***:null}***REMOVED***}}***REMOVED***;var N=e.History=function(***REMOVED***{this.handlers=[];i.bindAll(this,"checkUrl"***REMOVED***;if(typeof window!=="unde***REMOVED***ned"***REMOVED***{this.location=window.location;this.history=window.history}};var R=/^[#\/]|\s+$/g;var O=/^\/+|\/+$/g;var P=/msie [\w.]+/;var C=/\/$/;var j=/#.*$/;N.started=false;i.extend(N.prototype,u,{interval:50,atRoot:function(***REMOVED***{return this.location.pathname.replace(/[^\/]$/,"$&/"***REMOVED***===this.root},getHash:function(t***REMOVED***{var e=(t||this***REMOVED***.location.href.match(/#(.****REMOVED***$/***REMOVED***;return e?e[1]:""},getFragment:function(t,e***REMOVED***{if(t==null***REMOVED***{if(this._hasPushState||!this._wantsHashChange||e***REMOVED***{t=decodeURI(this.location.pathname+this.location.search***REMOVED***;var i=this.root.replace(C,""***REMOVED***;if(!t.indexOf(i***REMOVED******REMOVED***t=t.slice(i.length***REMOVED***}***REMOVED***{t=this.getHash(***REMOVED***}}return t.replace(R,""***REMOVED***},start:function(t***REMOVED***{if(N.started***REMOVED***throw new Error("Backbone.history has already been started"***REMOVED***;N.started=true;this.options=i.extend({root:"/"},this.options,t***REMOVED***;this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState***REMOVED***;var r=this.getFragment(***REMOVED***;var s=document.documentMode;var n=P.exec(navigator.userAgent.toLowerCase(***REMOVED******REMOVED***&&(!s||s<=7***REMOVED***;this.root=("/"+this.root+"/"***REMOVED***.replace(O,"/"***REMOVED***;if(n&&this._wantsHashChange***REMOVED***{var a=e.$('<iframe src="javascript:0" tabindex="-1">'***REMOVED***;this.iframe=a.hide(***REMOVED***.appendTo("body"***REMOVED***[0].contentWindow;this.navigate(r***REMOVED***}if(this._hasPushState***REMOVED***{e.$(window***REMOVED***.on("popstate",this.checkUrl***REMOVED***}***REMOVED*** if(this._wantsHashChange&&"onhashchange"in window&&!n***REMOVED***{e.$(window***REMOVED***.on("hashchange",this.checkUrl***REMOVED***}***REMOVED*** if(this._wantsHashChange***REMOVED***{this._checkUrlInterval=setInterval(this.checkUrl,this.interval***REMOVED***}this.fragment=r;var o=this.location;if(this._wantsHashChange&&this._wantsPushState***REMOVED***{if(!this._hasPushState&&!this.atRoot(***REMOVED******REMOVED***{this.fragment=this.getFragment(null,true***REMOVED***;this.location.replace(this.root+"#"+this.fragment***REMOVED***;return true}***REMOVED*** if(this._hasPushState&&this.atRoot(***REMOVED***&&o.hash***REMOVED***{this.fragment=this.getHash(***REMOVED***.replace(R,""***REMOVED***;this.history.replaceState({},document.title,this.root+this.fragment***REMOVED***}}if(!this.options.silent***REMOVED***return this.loadUrl(***REMOVED***},stop:function(***REMOVED***{e.$(window***REMOVED***.off("popstate",this.checkUrl***REMOVED***.off("hashchange",this.checkUrl***REMOVED***;if(this._checkUrlInterval***REMOVED***clearInterval(this._checkUrlInterval***REMOVED***;N.started=false},route:function(t,e***REMOVED***{this.handlers.unshift({route:t,callback:e}***REMOVED***},checkUrl:function(t***REMOVED***{var e=this.getFragment(***REMOVED***;if(e===this.fragment&&this.iframe***REMOVED***{e=this.getFragment(this.getHash(this.iframe***REMOVED******REMOVED***}if(e===this.fragment***REMOVED***return false;if(this.iframe***REMOVED***this.navigate(e***REMOVED***;this.loadUrl(***REMOVED***},loadUrl:function(t***REMOVED***{t=this.fragment=this.getFragment(t***REMOVED***;return i.any(this.handlers,function(e***REMOVED***{if(e.route.test(t***REMOVED******REMOVED***{e.callback(t***REMOVED***;return true}}***REMOVED***},navigate:function(t,e***REMOVED***{if(!N.started***REMOVED***return false;if(!e||e===true***REMOVED***e={trigger:!!e};var i=this.root+(t=this.getFragment(t||""***REMOVED******REMOVED***;t=t.replace(j,""***REMOVED***;if(this.fragment===t***REMOVED***return;this.fragment=t;if(t===""&&i!=="/"***REMOVED***i=i.slice(0,-1***REMOVED***;if(this._hasPushState***REMOVED***{this.history[e.replace?"replaceState":"pushState"]({},document.title,i***REMOVED***}***REMOVED*** if(this._wantsHashChange***REMOVED***{this._updateHash(this.location,t,e.replace***REMOVED***;if(this.iframe&&t!==this.getFragment(this.getHash(this.iframe***REMOVED******REMOVED******REMOVED***{if(!e.replace***REMOVED***this.iframe.document.open(***REMOVED***.close(***REMOVED***;this._updateHash(this.iframe.location,t,e.replace***REMOVED***}}***REMOVED***{return this.location.assign(i***REMOVED***}if(e.trigger***REMOVED***return this.loadUrl(t***REMOVED***},_updateHash:function(t,e,i***REMOVED***{if(i***REMOVED***{var r=t.href.replace(/(javascript:|#***REMOVED***.*$/,""***REMOVED***;t.replace(r+"#"+e***REMOVED***}***REMOVED***{t.hash="#"+e}}}***REMOVED***;e.history=new N;var U=function(t,e***REMOVED***{var r=this;var s;if(t&&i.has(t,"constructor"***REMOVED******REMOVED***{s=t.constructor}***REMOVED***{s=function(***REMOVED***{return r.apply(this,arguments***REMOVED***}}i.extend(s,r,e***REMOVED***;var n=function(***REMOVED***{this.constructor=s};n.prototype=r.prototype;s.prototype=new n;if(t***REMOVED***i.extend(s.prototype,t***REMOVED***;s.__super__=r.prototype;return s};p.extend=g.extend=$.extend=w.extend=N.extend=U;var M=function(***REMOVED***{throw new Error('A "url" property or function must be speci***REMOVED***ed'***REMOVED***};var q=function(t,e***REMOVED***{var i=e.error;e.error=function(r***REMOVED***{if(i***REMOVED***i(t,r,e***REMOVED***;t.trigger("error",t,r,e***REMOVED***}};return e}***REMOVED***;

// From http://stackoverflow.com/a/19431552
// Compatibility override - Backbone 1.1 got rid of the 'options' binding
// automatically to views in the constructor - we need to keep that.
Backbone.View = (function(View***REMOVED*** {
   return View.extend({
        constructor: function(options***REMOVED*** {
            this.options = options || {};
            View.apply(this, arguments***REMOVED***;
        }
    }***REMOVED***;
}***REMOVED***(Backbone.View***REMOVED***;